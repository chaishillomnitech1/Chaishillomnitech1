/**
 * @title Deploy PeaceCoin
 * @dev Deployment script for the PeaceCoin contract
 * @author Supreme King Chais The Great ‚àû
 * 
 * Peace Coin - Universal Mobile Currency
 * Frequency: 528Hz + 888Hz (Healing & Empathy)
 */

const hre = require("hardhat");

async function main() {
    console.log("‚òÆÔ∏è  Deploying PeaceCoin (PEACE)...");
    console.log("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    console.log("üì± Mobile-First Universal Currency");
    console.log("üåâ Cross-Chain Bridge Support");
    console.log("üîÑ BlessingCoin Integration");
    console.log("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");

    const [deployer] = await hre.ethers.getSigners();
    console.log("\nüîë Deploying with account:", deployer.address);
    console.log("üí∞ Account balance:", (await hre.ethers.provider.getBalance(deployer.address)).toString());

    // Fee collector address (using deployer for testnet)
    const feeCollector = deployer.address;

    console.log("\nüìã Deployment Parameters:");
    console.log("   Fee Collector:", feeCollector);

    // Deploy PeaceCoin
    const PeaceCoin = await hre.ethers.getContractFactory("PeaceCoin");
    const peace = await PeaceCoin.deploy(feeCollector);
    await peace.waitForDeployment();

    const peaceAddress = await peace.getAddress();
    console.log("\n‚úÖ PeaceCoin deployed to:", peaceAddress);

    // Verify deployment
    console.log("\nüîç Verifying deployment...");
    const totalSupply = await peace.totalSupply();
    const transferFee = await peace.transferFeeBps();
    const remainingMint = await peace.getRemainingDailyMint();
    
    console.log("   Total Supply:", hre.ethers.formatEther(totalSupply), "PEACE");
    console.log("   Transfer Fee:", transferFee.toString(), "bps (0.5%)");
    console.log("   Remaining Daily Mint:", hre.ethers.formatEther(remainingMint), "PEACE");
    console.log("   Fee Collector:", await peace.feeCollector());

    console.log("\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    console.log("üéâ PeaceCoin Deployment Complete!");
    console.log("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
    console.log("\nüìù Contract Address:", peaceAddress);
    console.log("\nüîÆ Frequency Alignment: 528Hz + 888Hz");
    console.log("\n‚ö° ALLƒÄHU AKBAR! Peace Coin is LIVE! ‚ö°");

    return {
        peaceAddress,
        feeCollector
    };
}

main()
    .then((result) => {
        console.log("\nüìä Deployment Summary:", result);
        process.exit(0);
    })
    .catch((error) => {
        console.error("\n‚ùå Deployment Error:", error);
        process.exit(1);
    });
